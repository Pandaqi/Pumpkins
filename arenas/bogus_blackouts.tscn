[gd_scene load_steps=37 format=2]

[ext_resource path="res://arenas/arena_skeleton.tscn" type="PackedScene" id=1]
[ext_resource path="res://assets/arenas/bogus_blackouts/bg.png" type="Texture" id=2]
[ext_resource path="res://assets/arenas/bogus_blackouts/entities.png" type="Texture" id=3]
[ext_resource path="res://assets/arenas/bogus_blackouts/overlay_3.png" type="Texture" id=4]
[ext_resource path="res://assets/arenas/bogus_blackouts/overlay_7.png" type="Texture" id=5]
[ext_resource path="res://assets/arenas/bogus_blackouts/overlay_2.png" type="Texture" id=6]
[ext_resource path="res://assets/arenas/bogus_blackouts/overlay_4.png" type="Texture" id=7]
[ext_resource path="res://assets/arenas/bogus_blackouts/overlay_5.png" type="Texture" id=8]
[ext_resource path="res://assets/arenas/bogus_blackouts/overlay_6.png" type="Texture" id=9]
[ext_resource path="res://assets/arenas/bogus_blackouts/overlay_1.png" type="Texture" id=10]
[ext_resource path="res://arenas/light_button.tscn" type="PackedScene" id=11]
[ext_resource path="res://scripts/arenas/bogus_blackouts/custom_logic.gd" type="Script" id=12]
[ext_resource path="res://arenas/window.tscn" type="PackedScene" id=13]
[ext_resource path="res://scripts/mode_modules/stairs.gd" type="Script" id=14]
[ext_resource path="res://assets/arenas/bogus_blackouts/overhead_light2.png" type="Texture" id=15]
[ext_resource path="res://assets/arenas/bogus_blackouts/overhead_light1.png" type="Texture" id=16]
[ext_resource path="res://assets/arenas/bogus_blackouts/overhead_light3.png" type="Texture" id=17]
[ext_resource path="res://assets/arenas/bogus_blackouts/overhead_light5.png" type="Texture" id=18]
[ext_resource path="res://assets/arenas/bogus_blackouts/overhead_light4.png" type="Texture" id=19]
[ext_resource path="res://arenas/overhead_light.tscn" type="PackedScene" id=20]
[ext_resource path="res://scenes/mode_modules/teleporter.tscn" type="PackedScene" id=21]

[sub_resource type="CircleShape2D" id=1]
radius = 27.7839

[sub_resource type="OccluderPolygon2D" id=2]
polygon = PoolVector2Array( 20.3253, 57.9782, 21.8237, -84.361, -8.14252, -84.361, -11.1391, -4.95068, -152.704, 0.282013, -152.704, 24.3236, -11.1391, 28.0121, -11.1391, 62.4731 )

[sub_resource type="OccluderPolygon2D" id=13]
polygon = PoolVector2Array( 73.5699, 13.0099, 73.5699, -13.8602, -80.5794, -15.2744, -80.5794, 11.5957 )

[sub_resource type="OccluderPolygon2D" id=14]
polygon = PoolVector2Array( 23.9628, 14.0241, 21.8415, -10.7246, -29.7773, -11.4318, -27.656, 13.317 )

[sub_resource type="OccluderPolygon2D" id=3]
polygon = PoolVector2Array( -23.5596, -318.885, 8.53223, -316.997, 4.75671, -60.2632, 48.1749, -3.6308, 344.552, -1.74304, 344.552, 28.4609, -180.243, 30.3487, -180.243, 0.144714, -66.9778, -1.74304, -21.6718, -67.8142 )

[sub_resource type="OccluderPolygon2D" id=4]
polygon = PoolVector2Array( 89.7054, -14.9573, 93.4809, 17.1345, -38.6615, 20.91, -116.059, 130.399, -131.161, -143.324, -38.6615, -14.9573 )

[sub_resource type="OccluderPolygon2D" id=5]
polygon = PoolVector2Array( 15.2178, 7.74484, 17.0593, 239.851, -11.4816, 237.473, -14.7822, 9.74484 )

[sub_resource type="OccluderPolygon2D" id=15]
polygon = PoolVector2Array( -112.782, 49.7448, -110.782, -22.2552, 182.218, -23.2552, 119.218, 52.7448, 119.218, 68.7448, 84.2178, 66.7448, 86.2178, 33.7448, 67.2178, 15.7448, -52.7822, 13.7448, -77.7822, 33.7448, -77.7822, 51.7448 )

[sub_resource type="OccluderPolygon2D" id=6]
polygon = PoolVector2Array( -12.4872, -81.2142, 24.5122, -81.2142, 19.4669, 78.5562, -10.8054, 78.5562 )

[sub_resource type="OccluderPolygon2D" id=7]
polygon = PoolVector2Array( -75.5546, 10.8639, -75.5546, 31.8864, 11.0577, 33.5681, 58.9889, -26.1355, 544.186, -26.9764, 544.186, -58.9305, 16.9441, -59.7714, 19.4667, -97.6117, -16.6918, -96.7708, -14.1691, -45.4761, -53.6913, 6.65942 )

[sub_resource type="OccluderPolygon2D" id=8]
polygon = PoolVector2Array( -67.0253, -10.1213, 80.9724, -10.1213, 91.0632, 23.5145, -67.0253, 21.8327 )

[sub_resource type="OccluderPolygon2D" id=9]
polygon = PoolVector2Array( -14.8895, -58.8934, 13.701, -58.8934, 17.0646, 70.6047, -13.2076, 68.9229 )

[sub_resource type="OccluderPolygon2D" id=10]
polygon = PoolVector2Array( -35.0709, -67.3024, 18.7465, -68.9842, 18.7465, 90.7861, -13.2076, 90.7861, -18.2531, -38.7119, -35.0709, -42.0755 )

[sub_resource type="OccluderPolygon2D" id=11]
polygon = PoolVector2Array( -55.2525, 11.7418, 38.9279, 18.469, 33.8826, -18.5304, -61.9797, -16.8486 )

[sub_resource type="OccluderPolygon2D" id=12]
polygon = PoolVector2Array( -14.8894, -35.3484, 15.3828, -35.3484, 17.0647, 23.5144, -16.5712, 21.8326 )

[node name="BogusBlackouts" instance=ExtResource( 1 )]

[node name="Bg" type="Sprite" parent="Map/BG" index="0"]
light_mask = 3
texture = ExtResource( 2 )
centered = false

[node name="Window" parent="Map/Entities" index="0" instance=ExtResource( 13 )]
position = Vector2( 566.124, 459.843 )

[node name="Window2" parent="Map/Entities" index="1" instance=ExtResource( 13 )]
position = Vector2( 768.228, 457.845 )

[node name="Window3" parent="Map/Entities" index="2" instance=ExtResource( 13 )]
position = Vector2( 1110.72, 772.617 )

[node name="Window4" parent="Map/Entities" index="3" instance=ExtResource( 13 )]
position = Vector2( 1733.05, 625.031 )
rotation = 1.5708

[node name="Window5" parent="Map/Entities" index="4" instance=ExtResource( 13 )]
position = Vector2( 114.333, 345.61 )
rotation = 1.5708

[node name="Window6" parent="Map/Entities" index="5" instance=ExtResource( 13 )]
position = Vector2( 373.58, 344.42 )
rotation = 1.5708

[node name="Window7" parent="Map/Entities" index="6" instance=ExtResource( 13 )]
position = Vector2( 766.018, 116.093 )

[node name="LightButton" parent="Map/Entities" index="7" instance=ExtResource( 11 )]
position = Vector2( 789.633, 292.545 )
room_num = 4

[node name="LightButton2" parent="Map/Entities" index="8" instance=ExtResource( 11 )]
position = Vector2( 535.143, 726.605 )
rotation = 3.14159
room_num = 6

[node name="LightButton3" parent="Map/Entities" index="9" instance=ExtResource( 11 )]
position = Vector2( 1882.25, 267.438 )
rotation = 3.14159
room_num = 2

[node name="LightButton4" parent="Map/Entities" index="10" instance=ExtResource( 11 )]
position = Vector2( 661.857, 38.737 )
rotation = 1.5708
room_num = 7

[node name="LightButton5" parent="Map/Entities" index="11" instance=ExtResource( 11 )]
position = Vector2( 1225.26, 652.698 )
rotation = 1.5708
room_num = 1

[node name="LightButton6" parent="Map/Entities" index="12" instance=ExtResource( 11 )]
position = Vector2( 826.672, 174.376 )
rotation = -1.5708
room_num = 3

[node name="LightButton7" parent="Map/Entities" index="13" instance=ExtResource( 11 )]
position = Vector2( 226.272, 317.329 )
rotation = -1.5708
room_num = 5

[node name="Entities" type="Sprite" parent="Map/Entities" index="14"]
texture = ExtResource( 3 )
centered = false

[node name="Stairs" parent="Map/Entities" index="15" instance=ExtResource( 21 )]

[node name="Table" type="StaticBody2D" parent="Map/Entities" index="16" groups=[
"Stuckables",
]]
position = Vector2( 1765.33, 418.258 )

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="Map/Entities/Table" index="0"]
polygon = PoolVector2Array( 61.9839, 68.8333, 54.0469, 84.7073, 38.1729, 95.0254, -39.6097, 95.0254, -57.0712, 86.2947, -65.8019, 67.2459, -65.8019, -74.0327, -55.4838, -94.669, -39.6097, -100.225, 34.2043, -101.019, 52.4595, -92.2879, 62.7776, -76.4138 )

[node name="Stairs2" type="Area2D" parent="Map/Entities" index="17"]
position = Vector2( 1840, 80 )
collision_layer = 2
collision_mask = 2
script = ExtResource( 14 )
other_stairs = Vector2( 80, 1000 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/Entities/Stairs2" index="0"]
shape = SubResource( 1 )

[node name="Walls" type="StaticBody2D" parent="Map/Entities" index="18" groups=[
"Deflectables",
]]
collision_layer = 5
collision_mask = 5

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="0"]
position = Vector2( 491.591, 336.909 )
polygon = PoolVector2Array( 57.8835, -91.0746, 91.8247, -91.0746, 91.8247, 56.0037, 59.2977, 56.0037, 57.8835, 19.2341, -88.2069, 19.759, -88.2069, -4.8457, 58.6277, -6.43311 )

[node name="CollisionPolygon2D13" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="1"]
position = Vector2( 270.942, 335.322 )
polygon = PoolVector2Array( 63.3899, 22.9338, -89.0006, 20.5527, -89.7943, -4.052, 63.3899, -2.4646 )

[node name="CollisionPolygon2D14" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="2"]
position = Vector2( 89.1848, 335.322 )
polygon = PoolVector2Array( -48.5218, 18.9653, -89.0006, 20.5527, -89.7943, -4.052, -50.9029, -4.8457 )

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="3"]
position = Vector2( 557.591, 858.909 )
polygon = PoolVector2Array( -8.11646, -318.918, 22.9963, -321.747, 22.9963, -55.8744, 65.4227, -2.13428, 356.751, -3.54846, 356.751, 26.15, -166.508, 28.9785, -165.094, -0.720032, -51.9571, -2.13428, -6.70221, -62.9455 )

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="4"]
position = Vector2( 55.5908, 892.909 )
polygon = PoolVector2Array( 123.631, -35.8069, -8.3692, -37.8069, -100.369, -163.807, -88.3692, 112.193, -6.3692, -3.80695, 125.409, -4.90924 )

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="5"]
position = Vector2( 819.917, 55.4879 )
polygon = PoolVector2Array( -269.698, 4.58513, -269.698, -64.7113, 24.4589, -68.954, -40.595, 8.82777, -39.7024, 22.1266, -70.9726, 20.8758, -70.2935, -12.3855, -90.7858, -29.2946, -211.49, -33.4568, -237.171, -15.2139, -235.756, 3.17091 )

[node name="CollisionPolygon2D15" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="6"]
position = Vector2( 819.917, 55.4879 )
polygon = PoolVector2Array( -39.5251, 108.311, -39.1807, 134.693, 49.9147, 134.693, 52.7432, 165.805, -40.595, 164.391, -39.1807, 338.34, -70.2935, 336.925, -70.7451, 108.315 )

[node name="CollisionPolygon2D5" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="7"]
position = Vector2( 827.917, 555.488 )
polygon = PoolVector2Array( -78.9167, -15.4879, -45.9167, -16.4879, -48.9167, 140.512, -79.9167, 141.512 )

[node name="CollisionPolygon2D6" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="8"]
position = Vector2( 1183.92, 579.488 )
polygon = PoolVector2Array( -148.515, 94.7264, -148.515, 117.354, -60.8335, 117.354, -15.5786, 59.371, 469.497, 57.9568, 470.911, 26.8441, -56.5908, 26.8441, -55.1765, -9.92548, -89.1177, -9.92548, -87.7035, 39.572, -128.716, 93.3121 )

[node name="CollisionPolygon2D7" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="9"]
position = Vector2( 1694.45, 579.488 )
polygon = PoolVector2Array( 241.808, 25.4299, 94.73, 28.2583, 94.73, 59.371, 257.365, 59.371 )

[node name="CollisionPolygon2D8" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="10"]
position = Vector2( 982.448, 235.488 )
polygon = PoolVector2Array( 100.552, -44.4879, 152.552, -45.4879, 151.552, 111.512, 118.552, 111.512, 117.552, -18.4879, 99.552, -16.4879 )

[node name="CollisionPolygon2D9" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="11"]
position = Vector2( 979.448, 9.48792 )
polygon = PoolVector2Array( 119.552, 28.5121, 152.552, 29.5121, 153.552, -28.4879, 120.552, -26.4879 )

[node name="CollisionPolygon2D10" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="12"]
position = Vector2( 971.21, 903.443 )
polygon = PoolVector2Array( 123.441, -54.6633, 154.143, -54.6633, 151.473, 73.4814, 124.776, 73.4814 )

[node name="CollisionPolygon2D11" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="13"]
position = Vector2( 1761.44, 1040.93 )
polygon = PoolVector2Array( 100.749, 53.4587, 168.826, -39.98, 170.161, 50.7891 )

[node name="CollisionPolygon2D12" type="CollisionPolygon2D" parent="Map/Entities/Walls" index="14"]
position = Vector2( -120.252, 9.75659 )
polygon = PoolVector2Array( 98.2521, 63.2434, 217.252, -27.7566, 101.752, -29.2566 )

[node name="LightOccluder2D" type="LightOccluder2D" parent="Map/Entities/Walls" index="15"]
light_mask = 2
position = Vector2( 560.245, 329.356 )
occluder = SubResource( 2 )
light_mask = 2

[node name="LightOccluder2D12" type="LightOccluder2D" parent="Map/Entities/Walls" index="16"]
light_mask = 2
position = Vector2( 260.432, 346.327 )
occluder = SubResource( 13 )
light_mask = 2

[node name="LightOccluder2D13" type="LightOccluder2D" parent="Map/Entities/Walls" index="17"]
light_mask = 2
position = Vector2( 15.7731, 343.499 )
occluder = SubResource( 14 )
light_mask = 2

[node name="LightOccluder2D2" type="LightOccluder2D" parent="Map/Entities/Walls" index="18"]
light_mask = 2
position = Vector2( 573.46, 857.926 )
occluder = SubResource( 3 )
light_mask = 2

[node name="LightOccluder2D3" type="LightOccluder2D" parent="Map/Entities/Walls" index="19"]
light_mask = 2
position = Vector2( 86.4204, 871.14 )
occluder = SubResource( 4 )
light_mask = 2

[node name="LightOccluder2D4" type="LightOccluder2D" parent="Map/Entities/Walls" index="20"]
light_mask = 2
position = Vector2( 763.782, 155.255 )
occluder = SubResource( 5 )
light_mask = 2

[node name="LightOccluder2D14" type="LightOccluder2D" parent="Map/Entities/Walls" index="21"]
light_mask = 2
position = Vector2( 661.782, 9.25516 )
occluder = SubResource( 15 )
light_mask = 2

[node name="LightOccluder2D5" type="LightOccluder2D" parent="Map/Entities/Walls" index="22"]
light_mask = 2
position = Vector2( 760.419, 619.43 )
occluder = SubResource( 6 )
light_mask = 2

[node name="LightOccluder2D6" type="LightOccluder2D" parent="Map/Entities/Walls" index="23"]
light_mask = 2
position = Vector2( 1110.23, 664.838 )
occluder = SubResource( 7 )
light_mask = 2

[node name="LightOccluder2D7" type="LightOccluder2D" parent="Map/Entities/Walls" index="24"]
light_mask = 2
position = Vector2( 1857.05, 617.27 )
occluder = SubResource( 8 )
light_mask = 2

[node name="LightOccluder2D8" type="LightOccluder2D" parent="Map/Entities/Walls" index="25"]
light_mask = 2
position = Vector2( 1106.97, 906.538 )
occluder = SubResource( 9 )
light_mask = 2

[node name="LightOccluder2D9" type="LightOccluder2D" parent="Map/Entities/Walls" index="26"]
light_mask = 2
position = Vector2( 1115.38, 259.048 )
occluder = SubResource( 10 )
light_mask = 2

[node name="LightOccluder2D10" type="LightOccluder2D" parent="Map/Entities/Walls" index="27"]
light_mask = 2
position = Vector2( 834.523, 205.231 )
occluder = SubResource( 11 )
light_mask = 2

[node name="LightOccluder2D11" type="LightOccluder2D" parent="Map/Entities/Walls" index="28"]
light_mask = 2
position = Vector2( 1117.06, 16.8701 )
occluder = SubResource( 12 )
light_mask = 2

[node name="OverheadLight" parent="Map/Overlay" index="0" instance=ExtResource( 20 )]
position = Vector2( 286.36, 160.586 )

[node name="Sprite" type="Sprite" parent="Map/Overlay/OverheadLight" index="1"]
modulate = Color( 1, 1, 1, 0.45098 )
position = Vector2( 0.000305176, -6.10352e-05 )
texture = ExtResource( 16 )

[node name="OverheadLight2" parent="Map/Overlay" index="1" instance=ExtResource( 20 )]
position = Vector2( 280.017, 619.414 )

[node name="Sprite" type="Sprite" parent="Map/Overlay/OverheadLight2" index="1"]
modulate = Color( 1, 1, 1, 0.45098 )
position = Vector2( 0.000305176, -6.10352e-05 )
texture = ExtResource( 15 )

[node name="OverheadLight3" parent="Map/Overlay" index="2" instance=ExtResource( 20 )]
position = Vector2( 936.017, 431.414 )

[node name="Sprite" type="Sprite" parent="Map/Overlay/OverheadLight3" index="1"]
modulate = Color( 1, 1, 1, 0.45098 )
position = Vector2( 0.000305176, -6.10352e-05 )
texture = ExtResource( 17 )

[node name="OverheadLight4" parent="Map/Overlay" index="3" instance=ExtResource( 20 )]
position = Vector2( 1504.02, 947.414 )

[node name="Sprite" type="Sprite" parent="Map/Overlay/OverheadLight4" index="1"]
modulate = Color( 1, 1, 1, 0.45098 )
position = Vector2( 0.000305176, -6.10352e-05 )
texture = ExtResource( 19 )

[node name="OverheadLight5" parent="Map/Overlay" index="4" instance=ExtResource( 20 )]
position = Vector2( 1330.34, 340.14 )

[node name="Sprite" type="Sprite" parent="Map/Overlay/OverheadLight5" index="1"]
modulate = Color( 1, 1, 1, 0.45098 )
position = Vector2( 0.000305176, -6.10352e-05 )
texture = ExtResource( 18 )

[node name="Overlay1" type="Sprite" parent="Map/Overlay" index="5"]
visible = false
texture = ExtResource( 10 )
centered = false

[node name="Overlay2" type="Sprite" parent="Map/Overlay" index="6"]
visible = false
texture = ExtResource( 6 )
centered = false

[node name="Overlay3" type="Sprite" parent="Map/Overlay" index="7"]
visible = false
texture = ExtResource( 4 )
centered = false

[node name="Overlay4" type="Sprite" parent="Map/Overlay" index="8"]
visible = false
texture = ExtResource( 7 )
centered = false

[node name="Overlay5" type="Sprite" parent="Map/Overlay" index="9"]
visible = false
texture = ExtResource( 8 )
centered = false

[node name="Overlay6" type="Sprite" parent="Map/Overlay" index="10"]
visible = false
texture = ExtResource( 9 )
centered = false

[node name="Overlay7" type="Sprite" parent="Map/Overlay" index="11"]
visible = false
texture = ExtResource( 5 )
centered = false

[node name="CanvasModulate" type="CanvasModulate" parent="Map/Overlay" index="12"]
color = Color( 0.780392, 0.780392, 0.780392, 1 )

[node name="Node2D" type="Node2D" parent="Collectors" index="0"]
position = Vector2( 1374.24, 288.532 )

[node name="Node2D2" type="Node2D" parent="Collectors" index="1"]
position = Vector2( 223.092, 621.682 )

[node name="Node2D3" type="Node2D" parent="Collectors" index="2"]
position = Vector2( 1418.86, 832.875 )

[node name="Node2D4" type="Node2D" parent="Collectors" index="3"]
position = Vector2( 336.125, 151.702 )

[node name="Node2D5" type="Node2D" parent="Collectors" index="4"]
position = Vector2( 978.629, 1014.32 )

[node name="Node2D6" type="Node2D" parent="Collectors" index="5"]
position = Vector2( 898.316, 422.387 )

[node name="Node2D7" type="Node2D" parent="Collectors" index="6"]
position = Vector2( 954.832, 95.1856 )

[node name="Node2D8" type="Node2D" parent="Collectors" index="7"]
position = Vector2( 202.27, 1011.35 )

[node name="Node2D" type="Node2D" parent="Dumplings" index="0"]
position = Vector2( 1442.66, 223.092 )

[node name="Node2D2" type="Node2D" parent="Dumplings" index="1"]
position = Vector2( 288.532, 624.656 )

[node name="Node2D3" type="Node2D" parent="Dumplings" index="2"]
position = Vector2( 1484.3, 895.341 )

[node name="CustomLogic" parent="." index="3"]
script = ExtResource( 12 )

[node name="AutoLightsoffTimer" type="Timer" parent="CustomLogic" index="0"]
wait_time = 25.0

[connection signal="body_entered" from="Map/Entities/Stairs2" to="Map/Entities/Stairs2" method="_on_Stairs_body_entered"]
[connection signal="body_exited" from="Map/Entities/Stairs2" to="Map/Entities/Stairs2" method="_on_Stairs_body_exited"]
[connection signal="timeout" from="CustomLogic/AutoLightsoffTimer" to="CustomLogic" method="_on_AutoLightsoffTimer_timeout"]
